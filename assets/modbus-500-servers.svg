<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 750 420">
  <defs>
    <linearGradient id="headerGrad3" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="sectionGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#333;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#222;stop-opacity:1" />
    </linearGradient>
    <filter id="glow3">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="750" height="420" fill="#1a1a2e" rx="10"/>

  <!-- Header -->
  <rect x="20" y="15" width="710" height="40" fill="url(#headerGrad3)" rx="8" filter="url(#glow3)"/>
  <text x="375" y="42" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="15" font-weight="bold">
    MODBUS TCP SCALABILITY: 500 SERVERS + 500 CLIENTS
  </text>

  <!-- Server PLC Section -->
  <rect x="30" y="70" width="340" height="180" fill="url(#sectionGrad)" rx="8" stroke="#00ADD8" stroke-width="2"/>
  <text x="200" y="95" text-anchor="middle" fill="#00ADD8" font-family="Arial, sans-serif" font-size="13" font-weight="bold">SERVER PLC (500 Modbus TCP servers)</text>
  <text x="200" y="115" text-anchor="middle" fill="#888" font-family="monospace" font-size="10">ports 7000-7499</text>

  <text x="50" y="140" fill="#888" font-family="Arial, sans-serif" font-size="11">Servers:</text>
  <text x="130" y="140" fill="#4ecdc4" font-family="monospace" font-size="11">500 concurrent listeners</text>

  <text x="50" y="160" fill="#888" font-family="Arial, sans-serif" font-size="11">Registers:</text>
  <text x="130" y="160" fill="#fff" font-family="monospace" font-size="11">100 per server (shared %QW0-99)</text>

  <text x="50" y="180" fill="#888" font-family="Arial, sans-serif" font-size="11">Avg Scan:</text>
  <text x="130" y="180" fill="#4ecdc4" font-family="monospace" font-size="11">0.58ms (sin/cos waveforms)</text>

  <text x="50" y="200" fill="#888" font-family="Arial, sans-serif" font-size="11">Scans:</text>
  <text x="130" y="200" fill="#fff" font-family="monospace" font-size="11">36,000+ completed</text>

  <text x="50" y="220" fill="#888" font-family="Arial, sans-serif" font-size="11">Errors:</text>
  <text x="130" y="220" fill="#4ecdc4" font-family="monospace" font-size="11" font-weight="bold">0</text>

  <!-- Client PLC Section -->
  <rect x="380" y="70" width="340" height="180" fill="url(#sectionGrad)" rx="8" stroke="#ff6b6b" stroke-width="2"/>
  <text x="550" y="95" text-anchor="middle" fill="#ff6b6b" font-family="Arial, sans-serif" font-size="13" font-weight="bold">CLIENT PLC (500 Modbus TCP clients)</text>
  <text x="550" y="115" text-anchor="middle" fill="#888" font-family="monospace" font-size="10">PTR_QW pointer writes</text>

  <text x="400" y="140" fill="#888" font-family="Arial, sans-serif" font-size="11">Clients:</text>
  <text x="480" y="140" fill="#ff6b6b" font-family="monospace" font-size="11">500 concurrent connections</text>

  <text x="400" y="160" fill="#888" font-family="Arial, sans-serif" font-size="11">Writes/scan:</text>
  <text x="480" y="160" fill="#fff" font-family="monospace" font-size="11">50,000 registers (PTR_QW)</text>

  <text x="400" y="180" fill="#888" font-family="Arial, sans-serif" font-size="11">Avg Scan:</text>
  <text x="480" y="180" fill="#ffe66d" font-family="monospace" font-size="11">167ms (50K SIN + ptr writes)</text>

  <text x="400" y="200" fill="#888" font-family="Arial, sans-serif" font-size="11">Scans:</text>
  <text x="480" y="200" fill="#fff" font-family="monospace" font-size="11">2,000+ completed</text>

  <text x="400" y="220" fill="#888" font-family="Arial, sans-serif" font-size="11">Errors:</text>
  <text x="480" y="220" fill="#4ecdc4" font-family="monospace" font-size="11" font-weight="bold">0</text>

  <!-- PTR_QW Performance Section -->
  <rect x="30" y="260" width="690" height="130" fill="#222" rx="8" stroke="#ffe66d" stroke-width="2"/>
  <text x="375" y="285" text-anchor="middle" fill="#ffe66d" font-family="Arial, sans-serif" font-size="13" font-weight="bold">PTR_QW POINTER PERFORMANCE (isolated benchmark)</text>

  <!-- Performance bars -->
  <text x="50" y="315" fill="#888" font-family="monospace" font-size="11">Direct %QW (unrolled):</text>
  <rect x="230" y="302" width="200" height="18" fill="#333" rx="3"/>
  <rect x="230" y="302" width="82" height="18" fill="#4ecdc4" rx="3"/>
  <text x="440" y="315" fill="#4ecdc4" font-family="monospace" font-size="11" font-weight="bold">1.24 us/write</text>

  <text x="50" y="340" fill="#888" font-family="monospace" font-size="11">PTR_QW (loop):</text>
  <rect x="230" y="327" width="200" height="18" fill="#333" rx="3"/>
  <rect x="230" y="327" width="100" height="18" fill="#ffe66d" rx="3"/>
  <text x="440" y="340" fill="#ffe66d" font-family="monospace" font-size="11" font-weight="bold">1.52 us/write</text>

  <text x="50" y="365" fill="#888" font-family="monospace" font-size="11">Array indexing (loop):</text>
  <rect x="230" y="352" width="200" height="18" fill="#333" rx="3"/>
  <rect x="230" y="352" width="106" height="18" fill="#a855f7" rx="3"/>
  <text x="440" y="365" fill="#a855f7" font-family="monospace" font-size="11" font-weight="bold">1.61 us/write</text>

  <text x="550" y="340" fill="#888" font-family="Arial, sans-serif" font-size="11">Overhead: ~22% vs direct</text>

  <!-- Footer -->
  <text x="375" y="405" text-anchor="middle" fill="#4ecdc4" font-family="Arial, sans-serif" font-size="14" font-weight="bold">
    Effective Rate: ~300,000 register writes/second
  </text>
</svg>
