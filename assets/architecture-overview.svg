<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600">
  <defs>
    <linearGradient id="headerGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#00ADD8;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#007d9c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="taskGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4ecdc4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2ab7aa;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="coreGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#c44545;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="protoGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#ffe66d;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d4b93c;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="commGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#a855f7;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="600" fill="#1a1a2e" rx="10"/>

  <!-- Header -->
  <rect x="20" y="15" width="860" height="45" fill="url(#headerGrad)" rx="8" filter="url(#shadow)"/>
  <text x="450" y="45" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="22" font-weight="bold">
    GOPLC Runtime Architecture
  </text>

  <!-- Tasks Row -->
  <text x="50" y="90" fill="#4ecdc4" font-family="Arial, sans-serif" font-size="14" font-weight="bold">TASK LAYER</text>

  <g filter="url(#shadow)">
    <rect x="50" y="100" width="140" height="70" fill="url(#taskGrad)" rx="8"/>
    <text x="120" y="130" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Fast Task</text>
    <text x="120" y="155" text-anchor="middle" fill="#1a1a2e" font-family="monospace" font-size="11">100Î¼s scan</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="210" y="100" width="140" height="70" fill="url(#taskGrad)" rx="8"/>
    <text x="280" y="130" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Medium Task</text>
    <text x="280" y="155" text-anchor="middle" fill="#1a1a2e" font-family="monospace" font-size="11">1ms scan</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="370" y="100" width="140" height="70" fill="url(#taskGrad)" rx="8"/>
    <text x="440" y="130" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Slow Task</text>
    <text x="440" y="155" text-anchor="middle" fill="#1a1a2e" font-family="monospace" font-size="11">100ms scan</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="530" y="100" width="140" height="70" fill="url(#taskGrad)" rx="8"/>
    <text x="600" y="130" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="13" font-weight="bold">Event Task</text>
    <text x="600" y="155" text-anchor="middle" fill="#1a1a2e" font-family="monospace" font-size="11">On-demand</text>
  </g>

  <!-- Task Scheduler -->
  <rect x="690" y="100" width="160" height="70" fill="#333" rx="8" stroke="#4ecdc4" stroke-width="2"/>
  <text x="770" y="130" text-anchor="middle" fill="#4ecdc4" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Task Scheduler</text>
  <text x="770" y="150" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">Priority-based</text>
  <text x="770" y="165" text-anchor="middle" fill="#888" font-family="Arial, sans-serif" font-size="10">Cooperative</text>

  <!-- Arrows from tasks to scheduler -->
  <path d="M 120 170 L 120 185 L 690 185 L 690 135" stroke="#4ecdc4" stroke-width="2" fill="none"/>
  <path d="M 280 170 L 280 185" stroke="#4ecdc4" stroke-width="2" fill="none"/>
  <path d="M 440 170 L 440 185" stroke="#4ecdc4" stroke-width="2" fill="none"/>
  <path d="M 600 170 L 600 185" stroke="#4ecdc4" stroke-width="2" fill="none"/>

  <!-- Core Engine -->
  <text x="50" y="215" fill="#ff6b6b" font-family="Arial, sans-serif" font-size="14" font-weight="bold">CORE ENGINE</text>

  <rect x="50" y="225" width="800" height="100" fill="#222" rx="8" stroke="#ff6b6b" stroke-width="2"/>

  <g filter="url(#shadow)">
    <rect x="80" y="245" width="150" height="60" fill="url(#coreGrad)" rx="6"/>
    <text x="155" y="275" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">ST Parser</text>
    <text x="155" y="292" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">IEC 61131-3</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="250" y="245" width="150" height="60" fill="url(#coreGrad)" rx="6"/>
    <text x="325" y="275" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">Evaluator</text>
    <text x="325" y="292" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">AST Execution</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="420" y="245" width="150" height="60" fill="url(#coreGrad)" rx="6"/>
    <text x="495" y="275" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">I/O Memory</text>
    <text x="495" y="292" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">%I %Q %M</text>
  </g>

  <g filter="url(#shadow)">
    <rect x="590" y="245" width="150" height="60" fill="url(#coreGrad)" rx="6"/>
    <text x="665" y="275" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">1,450+ Functions</text>
    <text x="665" y="292" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">+ OSCAT Library</text>
  </g>

  <!-- Protocol Layer -->
  <text x="50" y="355" fill="#ffe66d" font-family="Arial, sans-serif" font-size="14" font-weight="bold">PROTOCOL LAYER (12+ Drivers)</text>

  <rect x="50" y="365" width="800" height="80" fill="#222" rx="8" stroke="#ffe66d" stroke-width="2"/>

  <!-- Protocol boxes - row 1 -->
  <rect x="70" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="120" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">Modbus</text>
  <text x="120" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">TCP/RTU</text>

  <rect x="185" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="235" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">EtherNet/IP</text>
  <text x="235" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">CIP</text>

  <rect x="300" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="350" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">OPC UA</text>
  <text x="350" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">Srv/Cli</text>

  <rect x="415" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="465" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">DNP3</text>
  <text x="465" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">SCADA</text>

  <rect x="530" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="580" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">BACnet</text>
  <text x="580" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">IP/MSTP</text>

  <rect x="645" y="380" width="100" height="50" fill="url(#protoGrad)" rx="5"/>
  <text x="695" y="405" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="11" font-weight="bold">FINS</text>
  <text x="695" y="420" text-anchor="middle" fill="#1a1a2e" font-family="Arial, sans-serif" font-size="9">Omron</text>

  <rect x="760" y="380" width="70" height="50" fill="#555" rx="5"/>
  <text x="795" y="405" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="11" font-weight="bold">+6</text>
  <text x="795" y="420" text-anchor="middle" fill="#aaa" font-family="Arial, sans-serif" font-size="9">more</text>

  <!-- Communication Layer -->
  <text x="50" y="475" fill="#a855f7" font-family="Arial, sans-serif" font-size="14" font-weight="bold">COMMUNICATION LAYER</text>

  <rect x="50" y="485" width="800" height="80" fill="#222" rx="8" stroke="#a855f7" stroke-width="2"/>

  <rect x="80" y="500" width="160" height="50" fill="url(#commGrad)" rx="5"/>
  <text x="160" y="525" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">DataLayer</text>
  <text x="160" y="540" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">TCP / Shared Mem</text>

  <rect x="260" y="500" width="160" height="50" fill="url(#commGrad)" rx="5"/>
  <text x="340" y="525" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">MQTT</text>
  <text x="340" y="540" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">IoT / Cloud</text>

  <rect x="440" y="500" width="160" height="50" fill="url(#commGrad)" rx="5"/>
  <text x="520" y="525" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">REST API</text>
  <text x="520" y="540" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">60+ Endpoints</text>

  <rect x="620" y="500" width="160" height="50" fill="url(#commGrad)" rx="5"/>
  <text x="700" y="525" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="12" font-weight="bold">WebSocket</text>
  <text x="700" y="540" text-anchor="middle" fill="#fff" font-family="Arial, sans-serif" font-size="10">Real-time Stream</text>

  <!-- Footer stats -->
  <text x="450" y="585" text-anchor="middle" fill="#666" font-family="Arial, sans-serif" font-size="12">
    160,000+ Lines of Go | 53,000+ Lines Protocol Code | Sub-millisecond Scan Times
  </text>
</svg>
